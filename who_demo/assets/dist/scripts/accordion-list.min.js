"use strict";!function(window){function _init(){currentPanel=_checkForActivePanelOnLoad(),"function"!=typeof NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),accordionPanels.forEach(function(panel){panel.querySelector(".sf-accordion__trigger-panel").addEventListener("click",_activateSelectedPanel)}),_linkHandler();for(var i=0;i<childrenLinks.length;i++)childrenLinks[i].addEventListener("click",_activatePanelChildrenLinks)}function _activateSelectedPanel(evt){evt.preventDefault();var selectedPanel=_findAncestor(evt.currentTarget,"sf-accordion__panel");if(currentPanel===selectedPanel&&currentPanel.classList.contains(activePanelClass))return currentPanel=selectedPanel,void _removeCurrentPanel();_removeCurrentPanel(),_displaySelectedPanel(selectedPanel)}function _displaySelectedPanel(selectedPanel){selectedPanel.classList.add(activePanelClass);var currentContent=selectedPanel.querySelector(".sf-accordion__content");currentContent.style.display="block",currentContent.style.height=currentContent.offsetHeight,currentContent.style.opacity=1,currentPanel=selectedPanel}function _removeCurrentPanel(){if(void 0===currentPanel)return this;var currentContent=currentPanel.querySelector(".sf-accordion__content");currentContent.style.opacity=0,currentContent.style.display="none",currentPanel.classList.remove(activePanelClass)}function _checkForActivePanelOnLoad(){for(var i=0;i<accordionPanels.length;i++)if(accordionPanels[i].classList.contains(activePanelClass))return accordionPanels[i]}function _activatePanelChildrenLinks(evt){for(var i=0;i<childrenLinks.length;++i)childrenLinks[i].classList.remove("active");evt.currentTarget.classList.add("active")}function _linkHandler(){window.location.href&&_activateLink(window.location.href)}function _activateLink(href){for(var activeChildrenLink=accordion.querySelectorAll('a[href="'+href+'"]'),i=0;i<activeChildrenLink.length;++i){activeChildrenLink[i].classList.add("active");var closestElement=_findAncestor(activeChildrenLink[i],"sf-accordion__panel");null!=closestElement&&_displaySelectedPanel(closestElement)}}function _findAncestor(el,cls){for(;(el=el.parentElement)&&!el.classList.contains(cls););return el}function _richEditorHandler(){for(var dynamicContentAccordion=document.querySelectorAll(".dynamic-content__accordion"),i=0;i<dynamicContentAccordion.length;++i){for(var accordionPanel=dynamicContentAccordion[i].querySelectorAll('[data-class="sf-accordion__panel"]'),accordionTitle=dynamicContentAccordion[i].querySelectorAll('[data-class="sf-accordion__title"]'),accordionTriggerPanel=dynamicContentAccordion[i].querySelectorAll('[data-class="sf-accordion__trigger-panel"]'),accordionIcon=dynamicContentAccordion[i].querySelectorAll('[data-class="sf-accordion__icon"]'),accordionContent=dynamicContentAccordion[i].querySelectorAll('[data-class="sf-accordion__content"]'),i=0;i<accordionPanel.length;i++)accordionPanel[i].setAttribute("class","sf-accordion__panel");for(i=0;i<accordionTitle.length;i++)accordionTitle[i].setAttribute("class","sf-accordion__title");for(i=0;i<accordionTriggerPanel.length;i++)accordionTriggerPanel[i].setAttribute("class","sf-accordion__trigger-panel");for(i=0;i<accordionIcon.length;i++)accordionIcon[i].setAttribute("class","sf-accordion__icon");for(i=0;i<accordionContent.length;i++)accordionContent[i].setAttribute("class","sf-accordion__content")}}var accordion=null,activePanelClass="is-active",accordionPanels=null,currentPanel=null,childrenLinks=null;window.AccordionJS=function(containerID){_richEditorHandler();var accordionContainer=containerID||"sf-accordion";null!==(accordion=document.querySelector("#"+accordionContainer))&&(accordionPanels=accordion.querySelectorAll(".sf-accordion__panel"),childrenLinks=accordion.querySelectorAll('a[href=""]'),accordionPanels.length>0&&_init())}}(window);